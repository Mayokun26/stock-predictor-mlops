{
  "dashboard": {
    "id": null,
    "title": "MLOps Business Intelligence Dashboard",
    "tags": ["mlops", "business", "roi", "finance"],
    "style": "dark",
    "timezone": "browser",
    "editable": true,
    "graphTooltip": 1,
    "time": {
      "from": "now-7d",
      "to": "now"
    },
    "timepicker": {},
    "templating": {
      "list": [
        {
          "name": "portfolio",
          "type": "custom",
          "options": "tech_stocks,blue_chip,growth_stocks,all",
          "current": {
            "text": "All",
            "value": "all"
          }
        }
      ]
    },
    "panels": [
      {
        "id": 1,
        "title": "Portfolio Performance Summary",
        "type": "table",
        "targets": [
          {
            "expr": "label_replace(portfolio_total_return, \"metric\", \"Total Return\", \"\", \"\")",
            "format": "table",
            "instant": true
          },
          {
            "expr": "label_replace(portfolio_sharpe_ratio, \"metric\", \"Sharpe Ratio\", \"\", \"\")",
            "format": "table", 
            "instant": true
          },
          {
            "expr": "label_replace(portfolio_max_drawdown, \"metric\", \"Max Drawdown\", \"\", \"\")",
            "format": "table",
            "instant": true
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "thresholds"},
            "thresholds": {
              "steps": [
                {"color": "green", "value": null}
              ]
            }
          },
          "overrides": [
            {
              "matcher": {"id": "byName", "options": "Total Return"},
              "properties": [
                {"id": "unit", "value": "percentunit"},
                {"id": "custom.cellOptions", "value": {"type": "color-background"}}
              ]
            }
          ]
        },
        "gridPos": {"h": 8, "w": 24, "x": 0, "y": 0}
      },
      {
        "id": 2,
        "title": "Daily P&L",
        "type": "timeseries",
        "targets": [
          {
            "expr": "daily_pnl_usd",
            "legendFormat": "Daily P&L ($)"
          },
          {
            "expr": "avg_over_time(daily_pnl_usd[7d])",
            "legendFormat": "7-day Average"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "thresholds"},
            "thresholds": {
              "steps": [
                {"color": "red", "value": null},
                {"color": "green", "value": 0}
              ]
            },
            "unit": "currencyUSD",
            "custom": {
              "drawStyle": "line",
              "fillOpacity": 20
            }
          }
        },
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 8}
      },
      {
        "id": 3,
        "title": "Cumulative Returns",
        "type": "timeseries",
        "targets": [
          {
            "expr": "cumulative_returns_percent",
            "legendFormat": "ML Strategy"
          },
          {
            "expr": "benchmark_returns_percent",
            "legendFormat": "S&P 500 Benchmark"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "palette-classic"},
            "unit": "percent",
            "custom": {
              "drawStyle": "line",
              "lineWidth": 2
            }
          }
        },
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 8}
      },
      {
        "id": 4,
        "title": "Risk Metrics",
        "type": "stat",
        "targets": [
          {
            "expr": "current_volatility_annualized",
            "legendFormat": "Volatility"
          },
          {
            "expr": "current_var_95_percent", 
            "legendFormat": "VaR (95%)"
          },
          {
            "expr": "current_max_drawdown_percent",
            "legendFormat": "Max Drawdown"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "thresholds"},
            "thresholds": {
              "steps": [
                {"color": "green", "value": null},
                {"color": "yellow", "value": 0.15},
                {"color": "red", "value": 0.25}
              ]
            },
            "unit": "percent"
          }
        },
        "gridPos": {"h": 6, "w": 24, "x": 0, "y": 16}
      },
      {
        "id": 5,
        "title": "Win Rate by Symbol",
        "type": "bargauge",
        "targets": [
          {
            "expr": "win_rate_by_symbol",
            "legendFormat": "{{symbol}}"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "continuous-GrYlRd"},
            "unit": "percentunit",
            "min": 0,
            "max": 1,
            "custom": {
              "orientation": "horizontal"
            }
          }
        },
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 22}
      },
      {
        "id": 6,
        "title": "Model Confidence vs Performance",
        "type": "scatterplot",
        "targets": [
          {
            "expr": "avg_prediction_confidence",
            "legendFormat": "Confidence"
          },
          {
            "expr": "prediction_accuracy_percent",
            "legendFormat": "Accuracy"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "palette-classic"},
            "unit": "percentunit"
          }
        },
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 22}
      },
      {
        "id": 7,
        "title": "Trading Activity",
        "type": "timeseries",
        "targets": [
          {
            "expr": "rate(trades_executed_total[$__rate_interval])",
            "legendFormat": "Trades/hour"
          },
          {
            "expr": "avg_trade_size_usd",
            "legendFormat": "Avg Trade Size ($)"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "palette-classic"},
            "unit": "short",
            "custom": {
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line"
            }
          }
        },
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 30}
      },
      {
        "id": 8,
        "title": "Feature Importance Heatmap",
        "type": "heatmap",
        "targets": [
          {
            "expr": "feature_importance_by_model",
            "legendFormat": "{{model_version}}: {{feature}}"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "spectrum"},
            "unit": "percentunit"
          }
        },
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 30}
      },
      {
        "id": 9,
        "title": "Model Deployment Timeline", 
        "type": "timeseries",
        "targets": [
          {
            "expr": "model_deployment_events",
            "legendFormat": "{{model_version}} deployed"
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "palette-classic"},
            "unit": "short",
            "custom": {
              "drawStyle": "points",
              "pointSize": 8
            }
          }
        },
        "gridPos": {"h": 6, "w": 24, "x": 0, "y": 38}
      },
      {
        "id": 10,
        "title": "Cost-Benefit Analysis",
        "type": "table",
        "targets": [
          {
            "expr": "label_replace(infrastructure_cost_monthly, \"metric\", \"Infrastructure Cost\", \"\", \"\")",
            "format": "table",
            "instant": true
          },
          {
            "expr": "label_replace(trading_profits_monthly, \"metric\", \"Trading Profits\", \"\", \"\")",
            "format": "table",
            "instant": true
          },
          {
            "expr": "label_replace(net_profit_monthly, \"metric\", \"Net Profit\", \"\", \"\")",
            "format": "table", 
            "instant": true
          }
        ],
        "fieldConfig": {
          "defaults": {
            "color": {"mode": "thresholds"},
            "unit": "currencyUSD",
            "thresholds": {
              "steps": [
                {"color": "red", "value": null},
                {"color": "green", "value": 0}
              ]
            }
          }
        },
        "gridPos": {"h": 6, "w": 24, "x": 0, "y": 44}
      }
    ],
    "annotations": {
      "list": [
        {
          "name": "Market Events",
          "datasource": "prometheus", 
          "enable": true,
          "expr": "market_volatility_spike > 0.05",
          "iconColor": "red",
          "titleFormat": "High Volatility: {{value}}%"
        }
      ]
    },
    "refresh": "1m",
    "schemaVersion": 27,
    "version": 0,
    "links": [
      {
        "title": "Model Performance Dashboard",
        "url": "/d/mlops-model-performance",
        "type": "dashboards"
      }
    ]
  }
}